📌 企查查搜索爬虫脚本

一、功能
🔍 爬取企查查指定关键词（如 “华为”“小米”）的企业搜索结果，支持自定义查询页数（非会员账号限制前 2 页）。

二、需要安装的库
📦 打开终端，执行以下命令安装依赖：
pip install requests lxml PyExecJS

三、文件说明
文件名
作用
注意事项
02_逆向 header 加密.py
主脚本（包含完整逆向 + 请求逻辑）
核心文件，可修改参数
02_企查查_header 加密逻辑.js
生成动态加密请求头


四、使用步骤（必看！）
1. 自行获取企查查 Cookie（关键步骤❗❗❗）
脚本依赖 Cookie 进行身份验证，需手动从浏览器获取，步骤如下：
用浏览器打开 企查查官网，登录个人账号；
按 F12 打开开发者工具 → 切换到「Application」→「Cookies」→ 选择 https://www.qcc.com；
复制以下 4 个 Cookie 的值（用 ;  分隔）：QCCSESSID、qcc_did、_c_WBKFRo、acw_tc；
打开 02_逆向header加密.py，找到 cookie = "..." 行，替换为复制的 Cookie 内容。
2. 运行脚本
终端切换到脚本所在文件夹（如 cd F:\pydate\04_pydate(逆向)\加密\hmac实战）；
执行命令：python 02_逆向header加密.py；
按终端提示输入：
搜索关键字（如 “华为”“小米”）；
搜索页数（非会员仅支持前两页），后面需要冲会员啦，我没有会员哈哈哈哈。。。

五、注意事项
⚠️ Cookie 有效期：Cookie 通常 1-7 天过期，若报错 “身份验证失败”“435 未知错误”，需重新按步骤 1 获取新 Cookie；
⚠️ 页数限制：非会员账号仅能爬取前 2 页，会员可自行修改脚本中 pageIndex 的输入限制；
⚠️ 反爬提醒：避免频繁运行脚本（建议间隔 10 秒以上），防止 IP 被企查查临时封禁。
